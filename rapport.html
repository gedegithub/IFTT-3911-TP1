<!-- saved from url=(0060)http://www-ens.iro.umontreal.ca/~syriani/courses/rapport.htm -->
<!DOCTYPE html>
<html lang="fr">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>IFT-3911 - Devoir 1 - Système de Réservation de Voyages</title>
    <style type="text/css">
        table {
            border: outset 2px black;
            border-collapse: collapse;
        }

        th {
            border-bottom: double 2px black;
        }

        td {
            border-bottom: solid 1px black;
        }

        .first_col {
            border-right: double 2px black;
        }

        img {
            max-width: 100%;
        }

        pre {
            font-size: 25px;
        }
    </style>
</head>

<body>
    <h1 style="text-align: center;">
        IFT-3911 - Devoir 1</h1>
    <h2>
        Information générale</h2>
    <p>
        <span style="font-weight: bold;">Nom: </span>Louis Bertrand
        <br>
        <span style="font-weight: bold;">Matricule: </span>20141254
        <br>
        <span style="font-weight: bold;">Courriel: </span>louis.bertrand@umontreal.ca
        <br>
        <span style="font-weight: bold;">temps mis: </span>40 heures
    </p>
    <p>
        <span style="font-weight: bold;">Nom: </span>Ronald Gedeon
        <br>
        <span style="font-weight: bold;">Matricule: </span>20142399
        <br>
        <span style="font-weight: bold;">Courriel: </span>ronald.gedeon@umontreal.ca
        <br>
        <span style="font-weight: bold;">temps mis: </span>40 heures
    </p>
    <p>
        <span style="font-weight: bold;">Nom: </span>Dave Sanon-Abraham
        <br>
        <span style="font-weight: bold;">Matricule: </span>20174672
        <br>
        <span style="font-weight: bold;">Courriel: </span>dave.ferly.sanon-abraham@umontreal.ca
        <br>
        <span style="font-weight: bold;">temps mis: </span>40 heures
    </p>
    <h2>
        Distribution des tâches</h2>
    <p>
        <span style="font-weight: bold;">Soumetteur: </span>Ronald Gédéon
    </p>
    <table cellpadding="7px">
        <thead>
            <tr>
                <th class="first_col">
                    Tâche
                </th>
                <th>
                    Ronald
                </th>
                <th>
                    Bertrand
                </th>
                <th>
                    Dave
                </th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="first_col">
                    Modèle du domaine
                </td>
                <td>
                    Classes, Design, Diagrammes (50%)
                </td>
                <td>
                    Classes, Design, Diagrammes (50%)
                </td>
                <td>
                    Design, Contraintes OCL (20%)
                </td>
            </tr>
            <tr>
                <td class="first_col">
                    Diagramme Séquence Système
                </td>
                <td>
                    Admin (50%)
                </td>
                <td>
                    Client (30%)
                </td>
                <td>
                    Admin / Client (20%)
                </td>
            </tr>
            <tr>
                <td class="first_col">
                    Modèle du design
                </td>
                <td>
                    Méthodes & Diagramme Séquence Payer (100%)
                </td>
                <td>
                    Logique & Diagramme Séquence Consulter (100%)
                </td>
                <td>
                    Diagramme Séquence Reserver (100%)
                </td>
            </tr>
            <tr>
                <td class="first_col">
                    OCL
                </td>
                <td>
                    (30%)
                </td>
                <td>
                    (40%)
                </td>
                <td>
                    (30%)
                </td>
            </tr>
        </tbody>
    </table>
    <h2>
        Hypothèses</h2>
    <p>
        Plusieurs changements ont été apportés au design dans le but d'amélioré la conception. Entre autres, nous avons éliminé les classes descriptives du modèle, ajouté une énumération pour les différentes types de section et enlevé la répétition pour la classe Admin. Aussi, nous avons ajouté deux autres contraintes OCL pour spécifier que les cabines appartiennent aux bateaux seulement et que les seats appartiennent soit aux avions ou aux trains. 
    </p>
    <p>
    Les principes de conceptions SRP, LSV et OCL sont respectés. `Admin` reste l'expert des classes héritant des classes abstraites telles que Route, Company, Craft et Stations. 
    </p>
    <p>
        Pour le moment, nous avons jugé bon que ça soit la classe 
    </p>
    <p>
        Par ailleurs, nous avons mis une interface pour la classe `Client` afin de bien faire ressortir le fait qu'il
        existe plusieurs types de clients qui auront à utiliser l'application pour accéder aux services de différents
        types de voyages.
    </p>
    <p>
        Aussi, la classe `Sections` peut etre composée de `Seats` pour les avions et les trains et de `Cabines`
        pour les paquebots. Cette approche est possible grâce au concept de multiplicité des relations intervenant dans
        ces classes. Ce qui nous a permis, même si c'est pas préciser dans l'énoncé, de laisser une porte ouverte sur le
        fait que les sections d'un navire peuvent comportées à la fois des sièges et des cabines. Ce qui correspond très
        bien à la realité.
    </p>
    <p>
        Pour finir, si la classe `Admin` apparait 2 fois, la première fois comme `M` et la 2e fois comme `a` c'est pour
        non seulemnt des raisons esthétiques, mais aussi pratiques, car c'est dans l'alias seulement que toutes les
        méthodes d'Admin sont bien énumerées.
    </p>
    <h2>
        Tâche 1</h2>
    <p>
        Voici les diagrammes de la tâche 1.
    </p>
    <h3>1. Modèle du domaine</h3>
    <img src="./Domaine/ModeleDomaine.png" alt="Modele-Domaine">
    <hr>
    <h3>2. Diagramme Séquence Système Admin</h3>
    <img src="./Domaine/DSS-admin.png" alt="DSS-admin">
    <hr>
    <h3>3. Diagramme Séquence Système Client</h3>
    <img src="./Domaine/DSS-client.png" alt="DSS-client">
    <hr>
    <h2>
        Tâche 2</h2>
    <p>
        Voici les diagrammes de la tâche 2.
    </p>
    <h3>4. Modèle du design</h3>
    <img src="./Design/ModeleDesign.png" alt="Modele-Design">
    <hr>
    <h3>4. Diagrammes de Séquence</h3>
    <h4>4.1 CheckFlight and checkTrajectory</h4>
    <img src="./Design/sequence-diagram-consultation_ AvionTrain.png" alt="Sequence-Diagram-AvionTrain">
    <hr>
    <h4>4.2 CheckItinerary</h4>
    <img src="./Design/sequence-diagram-consultation_bateau.png" alt="Sequence-Diagram-Bateau">
    <hr>
    <h4>4.3 ReserveSeat</h4>
    <img src="./Design/sequence-diagram-reservation_seat.png" alt="Sequence-Diagram-Reservation-Seat">
    <hr>
    <h4>4.4 ReserveCabin</h4>
    <img src="./Design/sequence-diagram-reservation_cabines.png" alt="Sequence-Diagram-Reservation-Cabine">
    <hr>
    <h4>4.5 PaySeat</h4>
    <img src="./Design/sequence-diagram-payment.png" alt="Sequence-Diagram-Payment">
    <hr>
    <h3>5. Diagrammes de Paquets</h3>
    <img src="./Design/packageDiagram.png" alt="Diagramme-de-Paquet">
    <hr>
    <h2>
        Tâche 3 - Contraintes OCL.</h2>
    <pre>
        <strong>1) Le id d'une `Airport` doit être composé de 3 lettres uniques à chaque aéroport</strong>
        
        context Airport inv:
            oclType(self.id.toUpperCase()) = String
            and self.id.size() = 3
            and self.allInstances() -> isUnique(id)
        
        <strong>2) La partie alphabétique de l'ID d'un vol est unique à chaque compagnie et la partie numérique est unique à chaque vol au sein de la même compagnie [OCL].</strong>
        
        context Flight inv:
            oclType(self.route_id.substring(1,3).toUpperCase()) = String
            and oclType(self.route_id.substring(3,sel.route_id.size()).toInteger()) = Integer
            and self.routeDescription.company.allInstances() -> isUnique(self.route_id.substring(1, 3))
            and self.allInstances() -> forAll(n, m | n.route_id.substring(3,n.route_id.size()) = m.route_id.substring(3,m.route_id.size()) implies n = m)
        
        <strong>3) L'aéroport de départ et d'arrivée d'un `flight` doit être différent [OCL].</strong>
        
        context RouteDescription inv :
            not self.origin = self.destination
            
        <strong>4) Tous les sièges d'une même section ont le même prix [OCL].</strong>
        
        context Sections inv:
            self.seats -> forAll(price = self.price)
        
        <strong>5) Un port est identifié par trois lettres uniques à chaque port [OCL].</strong>
        
        context Port inv:
            oclType(self.id.toUpperCase()) = String
            and self.id.size() = 3
            and self.allInstances() -> isUnique(id)
                    
        <strong>6) Un itinéraire ne peut pas durer plus de 21 jours [OCL].</strong>
        
        context Itinerary inv:
            self.arrivalDate - self.routeDescription.departureDate() <= 21 
        
        <strong>7) Chaque itinéraire visite une suite de ports fixes. Le port de départ et d'arrivée doit être le même [OCL].</strong>
        
        context Itinerary:: RouteDescription inv:
            self.origin = self.destination
            and self.station.excluding(self.origin) > 0
             
            
        <strong>8) Un paquebot peut être assigné à plusieurs itinéraires tant qu'ils ne se chevauchent pas [OCL].</strong> 
        
            context Ship inv:
            self.itineray.allInstances -> forAll(a, b | a.departureDate < b.departureDate implies a.arrivalDate < b.departureDate)

        <strong>9)Toutes les cabines d'une même section ont le même prix.</strong> 
        
        context Sections inv: 
            self.cabines -> forAll(price = self.price)
        
        <strong>10)Une gare est identifiée par trois lettres uniques à chaque gare [OCL].</strong>
    
        context TrainStation inv:
            oclType(self.id.toUpperCase()) = String
            and self.id.size() = 3
            and self.allInstances() -> isUnique(id)
    
        <strong>11-Le client peut réserver un siège disponible dans un vol (ligne) donné [OCL].</strong>
    
        context Flight inv:
            self.craft.sections.seats.forAllInstances() -> isUnique(reservation.client)
    
        <strong>12-Le client peut réserver un siège disponible dans un voyage (train) donné [OCL].</strong>
    
        context Trajectory inv:
            self.craft.sections.seats.forAllInstances() -> isUnique(reservation.client)
    
        <strong>13- Un siège réservé devient assigné à un passager une fois payé: le siège est donc confirmé [OCL].</strong>
    
        Context Reservation :: makePayment() 
            pre: self.estPaye = false
            post: self.estPaye = true
    
        <strong>14-Le client peut réserver une cabine disponible pour un itinéraire donné [OCL].</strong>
    
        context Itinerary inv:
            self.craft.sections.cabines.forAllIstances() -> isUnique(reservation.client)

        </pre>


</body>

</html>