<!DOCTYPE html>
<html lang="fr">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>IFT-3911 - Devoir 1 - Système de Réservation de Voyages</title>
    <style type="text/css">
        table {
            border: outset 2px black;
            border-collapse: collapse;
        }

        th {
            border-bottom: double 2px black;
        }

        td {
            border-bottom: solid 1px black;
        }

        .first_col {
            border-right: double 2px black;
        }

        img {
            max-width: 100%;
        }

        pre {
            font-size: 25px;
        }

        p {
            text-align: justify;
        }
    </style>
</head>

<body>
    <h1 style="text-align: center;">
        IFT-3911 - Devoir 3</h1>
    <h2>
        Information générale</h2>
    <p>
        <span style="font-weight: bold;">Nom: </span>Louis Bertrand
        <br>
        <span style="font-weight: bold;">Matricule: </span>20141254
        <br>
        <span style="font-weight: bold;">Courriel: </span>louis.bertrand@umontreal.ca
        <br>
        <span style="font-weight: bold;">temps mis: </span>40 heures
    </p>
    <p>
        <span style="font-weight: bold;">Nom: </span>Ronald Gedeon
        <br>
        <span style="font-weight: bold;">Matricule: </span>20142399
        <br>
        <span style="font-weight: bold;">Courriel: </span>ronald.gedeon@umontreal.ca
        <br>
        <span style="font-weight: bold;">temps mis: </span>40 heures
    </p>
    <p>
        <span style="font-weight: bold;">Nom: </span>Dave Sanon-Abraham
        <br>
        <span style="font-weight: bold;">Matricule: </span>20174672
        <br>
        <span style="font-weight: bold;">Courriel: </span>dave.ferly.sanon-abraham@umontreal.ca
        <br>
        <span style="font-weight: bold;">temps mis: </span>40 heures
    </p>
    <h2>
        Distribution des tâches</h2>
    <p>
        <span style="font-weight: bold;">Soumetteur: </span>Ronald Gédéon
    </p>
    <table cellpadding="7px">
        <thead>
            <tr>
                <th class="first_col">
                    Tâche
                </th>
                <th>
                    Ronald
                </th>
                <th>
                    Bertrand
                </th>
                <th>
                    Dave
                </th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="first_col">
                    Révision de modèle du domaine
                </td>
                <td>
                    (50%)
                </td>
                <td>
                    (50%)
                </td>
                <td>
                    0 %
                </td>
            </tr>
            <tr>
                <td class="first_col">
                    Diagrammes de Classe
                </td>
                <td>
                    Fabrique, Singleton, Etat, Observateur, Visiteur (55%)
                </td>
                <td>
                    Commande, Memento, Builder et Diagramme de paquets (45%)
                </td>
                <td>
                    (0%)
                </td>
            </tr>
            <tr>
                <td class="first_col">
                    Diagramme de Sequence
                </td>
                <td>
                    Fabrique, Singleton, Etat, Observateur, Visiteur (55%)
                </td>
                <td>
                    Commande, Memento, Builder (45%)
                </td>
                <td>
                    (0%)
                </td>
            </tr>
            <tr>
                <td class="first_col">
                    Discussion et justifiacation de la qualité du design
                </td>
                <td>
                    (50%)
                </td>
                <td>
                    (50%)
                </td>
                <td>
                    (0%)
                </td>
            </tr>
            <tr>
                <td class="first_col">
                    Génération de code et implémentation du système en java
                </td>
                <td>
                    (50%)
                </td>
                <td>
                    (50%)
                </td>
                <td>
                    (0%)
                </td>
            </tr>
        </tbody>
    </table>
    <h1>
        Système de réservation de voyages</h1>

    <h2>Diagramme de Design du système avec les 8 Patrons de conception</h2>
    <img src="./design/ModeleDesign.png" alt="Modèle du Design">
    <hr>
    <h2>Discussion de la qualité de conception</h2>
    <p>Avec l'intégration des patrons de conception, on a su largement amélioré la qualité de notre design. En effet,
        les patrons s'adhèrent beaucoup aux principes de conception qui sont comme des règles d'or a appliquer afin de
        parvenir a un bon design.
        Toutefois, on a fait certains compromis dans le choix des patrons, puisque ceux-ci ont aussi leurs limitations.
        Dans les lignes subséquentes, on va voir plus en détails comment chaque patron a contribué à l'amélioration de
        notre design.
    </p>
    <hr>
    <h2>Design Logiciel</h2>
    <h3>Diagramme de classe pour le patron de Fabrique Abstraite</h3>
    <img src="./design/ClassDiagram-AbstractFactory.png" alt="Diagramme de Classe pour patron de Fabrique Abstraite">
    <hr>
    <h3>Diagramme de Séquence pour le patron de Fabrique Abstraite</h3>
    <img src="./design/SequenceDiagram-AbastractFabric.png"
        alt="Diagramme de Séquence pour le patron de Fabrique Abstraite">
    <hr>
    <p>
        La Fabrique Abstraite s'avère un bon choix dans l'éventuel cas de changement au niveau des familles de produits.
        En effet, ce patron permet la maintenance, car respecte le principe d'OCP (ajout d'autres familles). Aussi, on
        peut reutiliser les fabriques en dehors de l'application meme. Et, le DIP est respecté également. En effet,
        les fabriques concrètes dependent de la fabrique abstraite et au lieu de faire appel à l'operation new, on
        invoque les méthodes de fabrication. Et, en deleguant l'instanciation des objets à fabriquer aux fabriques
        concrètes, on applique le SRP dans les fabriques. Ce qui contribue somme toute à une très bonne cohésion au
        niveau des fabriques. C'est sûr qu'une forte cohésion entraine un faible couplage, mais c'est un compromis qui
        vaut la peine.
    </p>
    <hr>
    <h3>Diagramme de classe pour le patron de Singleton</h3>
    <img src="./design/ClassDiagram-Singleton.png" alt="Diagramme de Classe pour patron de singleton">
    <hr>
    <p>
        En ayant des singletons pour fabriques, on garantit une seule instance ces classes.C'est en fait une meilleure
        utilisation de la mémoire. D'autre part, on permet un point d'accès global pour les fabriques qui en effet
        peuvent être appelées de partout dans l'application par des classes expertes ou clientes. Ce qui offre au code
        un aspect sécuritaire, grâce a ce contrôle d'accès. Ce patron finalement, contrairement aux methodes statiques,
        facilite le changement à travers le polymorphisme ainsi que le passage par référence.
    </p>

    <h3>Diagramme de classe pour le patron d'état</h3>
    <img src="./design/ClassDiagram-State.png" alt="Diagramme de Classe pour patron de d'état">
    <hr>
    <h3>Diagramme de Séquence pour le patron de d'état</h3>
    <img src="./design/SequenceDiagram-State.png" alt="Diagramme de Séquence pour le patron d'état">
    <hr>
    <p>

    </p>

    <h3>Diagramme de classe pour le patron d'Observateur</h3>
    <img src="./design/ClassDiagram-Observer.png" alt="Diagramme de Classe pour patron d'observateur">
    <hr>
    <h3>Diagramme de Séquence pour le patron d'Observateur</h3>
    <img src="./design/SequenceDiagram-Observer.png" alt="Diagramme de Séquence pour le patron de l'observateur">
    <hr>
    <p>

    </p>
    <hr>
    <h3>Diagramme de classe pour le patron de Commande</h3>
    <img src="./design/ClassDiagram-Command.png" alt="Diagramme de Classe pour patron de de commande">
    <hr>
    <h3>Diagramme de Séquence pour le patron de Commande</h3>
    <img src="./design/SequenceDiagram-Commande.png" alt="Diagramme de Séquence pour le patron de commande">
    <hr>
    <p>

    </p>
    <h3>Diagramme de Séquence pour le patron de Memento</h3>
    <img src="./design/SequenceDiagram-Memento.png" alt="Diagramme de Séquence pour le patron de Memento">
    <hr>
    <p>

    </p>
    <h3>Diagramme de classe pour le patron de Visiteur</h3>
    <img src="./design/ClassDiagram-Visitor.png" alt="Diagramme de Classe pour patron de de visiteur">
    <hr>
    <h3>Diagramme de Séquence pour le patron de Visiteur</h3>
    <img src="./design/SequenceDiagram-Visitor.png" alt="Diagramme de Séquence pour le patron de visiteur">
    <hr>
    <p>

    </p>
    <h3>Diagramme de classe pour le patron de Constructeur</h3>
    <img src="./design/ClassDiagram-Builder.png" alt="Diagramme de Classe pour le patron de constructeur">
    <hr>
    <p>

    </p>
    <h2>Diagramme de Paquets</h2>
    <img src="./design/diagramme-paquet.png" alt="Diagramme de Paquet">
    <hr>
    <p>

    </p>
    <h2>
        Annexes: Contraintes OCL.</h2>
    <pre>
        <strong>1) Le id d'une `Airport` doit être composé de 3 lettres uniques à chaque aéroport</strong>
        
        context Airport inv:
            oclType(self.id.toUpperCase()) = String
            and self.id.size() = 3
            and self.allInstances() -> isUnique(id)
        
        <strong>2) La partie alphabétique de l'ID d'un vol est unique à chaque compagnie et la partie numérique est unique à chaque vol au sein de la même compagnie [OCL].</strong>
        
        context Flight inv:
            oclType(self.route_id.substring(1,3).toUpperCase()) = String
            and oclType(self.route_id.substring(3,sel.route_id.size()).toInteger()) = Integer
            and self.routeDescription.company.allInstances() -> isUnique(self.route_id.substring(1, 3))
            and self.allInstances() -> forAll(n, m | n.route_id.substring(3,n.route_id.size()) = m.route_id.substring(3,m.route_id.size()) implies n = m)
        
        <strong>3) L'aéroport de départ et d'arrivée d'un `flight` doit être différent [OCL].</strong>
        
        context RouteDescription inv :
            not self.origin = self.destination
            
        <strong>4) Tous les sièges d'une même section ont le même prix [OCL].</strong>
        
        context Sections inv:
            self.seats -> forAll(price = self.price)
        
        <strong>5) Un port est identifié par trois lettres uniques à chaque port [OCL].</strong>
        
        context Port inv:
            oclType(self.id.toUpperCase()) = String
            and self.id.size() = 3
            and self.allInstances() -> isUnique(id)
                    
        <strong>6) Un itinéraire ne peut pas durer plus de 21 jours [OCL].</strong>
        
        context Itinerary inv:
            self.arrivalDate - self.routeDescription.departureDate() <= 21 
        
        <strong>7) Chaque itinéraire visite une suite de ports fixes. Le port de départ et d'arrivée doit être le même [OCL].</strong>
        
        context Itinerary:: RouteDescription inv:
            self.origin = self.destination
            and self.station.excluding(self.origin) > 0
             
            
        <strong>8) Un paquebot peut être assigné à plusieurs itinéraires tant qu'ils ne se chevauchent pas [OCL].</strong> 
        
            context Ship inv:
            self.itineray.allInstances -> forAll(a, b | a.departureDate < b.departureDate implies a.arrivalDate < b.departureDate)

        <strong>9)Toutes les cabines d'une même section ont le même prix.</strong> 
        
        context Sections inv: 
            self.cabines -> forAll(price = self.price)
        
        <strong>10)Une gare est identifiée par trois lettres uniques à chaque gare [OCL].</strong>
    
        context TrainStation inv:
            oclType(self.id.toUpperCase()) = String
            and self.id.size() = 3
            and self.allInstances() -> isUnique(id)
    
        <strong>11-Le client peut réserver un siège disponible dans un vol (ligne) donné [OCL].</strong>
    
        context Flight inv:
            self.craft.sections.seats.forAllInstances() -> isUnique(reservation.client)
    
        <strong>12-Le client peut réserver un siège disponible dans un voyage (train) donné [OCL].</strong>
    
        context Trajectory inv:
            self.craft.sections.seats.forAllInstances() -> isUnique(reservation.client)
    
        <strong>13- Un siège réservé devient assigné à un passager une fois payé: le siège est donc confirmé [OCL].</strong>
    
        Context Reservation :: makePayment() 
            pre: self.estPaye = false
            post: self.estPaye = true
    
        <strong>14-Le client peut réserver une cabine disponible pour un itinéraire donné [OCL].</strong>
    
        context Itinerary inv:
            self.craft.sections.cabines.forAllIstances() -> isUnique(reservation.client)

        </pre>


</body>

</html>